"use strict";let fadeTimeout;const noop=()=>{};function fade(e,t,n=noop){e.animate(t,{duration:200,fill:"both"}).addEventListener("finish",n)}function fadeIn(e){"1"!=e.style.getPropertyValue("opacity")&&("none"==e.style.getPropertyValue("display")&&e.style.setProperty("display",""),fade(e,[{opacity:"0"},{opacity:"1"}]))}function fadeOut(e){"0"!=e.style.getPropertyValue("opacity")&&"none"!=e.style.getPropertyValue("display")&&fade(e,[{opacity:"1"},{opacity:"0"}],()=>e.style.setProperty("display","none"))}function createDropdown(e){var t=e.cloneNode(!0);t.classList.add("dropotron");let n=0,o=e.parentElement;for(;"nav"!=(null===o||void 0===o?void 0:o.id);)"UL"==(o=null===o||void 0===o?void 0:o.parentElement).tagName&&n++;t.classList.add("level-"+(n-1));e=e.parentElement.getBoundingClientRect();return t.style.setProperty("right",Math.max(document.body.clientWidth-e.right,0)+"px"),t.style.setProperty("top",e.bottom+"px"),t.style.setProperty("display","none"),t}addEventListener("DOMContentLoaded",()=>{var e=document.getElementById("nav");for(const t of null==e?void 0:e.getElementsByClassName("dropdown")){const n=createDropdown(t),o=t.parentElement,a=e=>{window.clearTimeout(fadeTimeout),fadeTimeout=window.setTimeout(()=>{fadeOut(n)},350)},d=e=>{window.clearTimeout(fadeTimeout),fadeIn(n)};window.addEventListener("keypress",e=>{"Escape"==e.key&&(e.stopPropagation(),e.preventDefault(),window.clearTimeout(fadeTimeout),fadeOut(n))}),document.body.classList.contains("is-touch")?(null!==o&&void 0!==o&&o.addEventListener("click",e=>{(null!==o&&void 0!==o&&o.contains(e.target)||n.contains(e.target))&&(e.stopPropagation(),e.preventDefault(),d())}),window.addEventListener("click",e=>{null!==o&&void 0!==o&&o.contains(e.target)||n.contains(e.target)||(e.stopPropagation(),e.preventDefault(),a())}),window.addEventListener("scroll",a)):(n.addEventListener("mouseleave",a),n.addEventListener("mouseenter",()=>window.clearTimeout(fadeTimeout)),null!==o&&void 0!==o&&o.addEventListener("mouseenter",d),null!==o&&void 0!==o&&o.addEventListener("mouseleave",a)),document.body.appendChild(n)}});
//# sourceMappingURL=/assets/js/dropdown.min.js.map