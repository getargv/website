"use strict";let fadeTimeouts=new Map;const noop=()=>{};function fade(e,t,o=noop){e.animate(t,{duration:200,fill:"both"}).addEventListener("finish",o)}function fadeIn(e){"1"!=e.style.getPropertyValue("opacity")&&("none"==e.style.getPropertyValue("display")&&e.style.removeProperty("display"),fade(e,[{opacity:"0"},{opacity:"1"}]))}function fadeOut(e){"0"!=e.style.getPropertyValue("opacity")&&"none"!=e.style.getPropertyValue("display")&&fade(e,[{opacity:"1"},{opacity:"0"}],()=>e.style.setProperty("display","none"))}function createDropdown(e,o){const t=e.cloneNode(!0),n=(t.classList.add("dropotron"),t.classList.add("level-"+o),e.parentElement);e=n.getBoundingClientRect(),t.style.setProperty("right",Math.max(document.body.clientWidth-(0==o?e.right:e.left),0)+"px"),t.style.setProperty("top",`${0==o?e.bottom:e.top}px`),t.style.setProperty("opacity","0"),document.body.appendChild(t),e=Array.from(t.querySelectorAll("ul"),e=>{var t=createDropdown(e,o+1);return e.remove(),t});t.style.setProperty("display","none"),t.style.removeProperty("opacity");const a=e=>{e.stopPropagation(),window.clearTimeout(fadeTimeouts.get(t)),fadeTimeouts.set(t,window.setTimeout(()=>fadeOut(t),350))},r=e=>{e.stopPropagation(),window.clearTimeout(fadeTimeouts.get(t)),fadeIn(t)},s=e=>{e.stopPropagation(),window.clearTimeout(fadeTimeouts.get(t))};return window.addEventListener("keypress",e=>{"Escape"==e.key&&(e.stopPropagation(),e.preventDefault(),window.clearTimeout(fadeTimeouts.get(t)),fadeOut(t))}),document.body.classList.contains("is-touch")?(n.addEventListener("click",e=>{(n.contains(e.target)||t.contains(e.target))&&(e.stopPropagation(),e.preventDefault(),r(e))}),window.addEventListener("click",e=>{n.contains(e.target)||t.contains(e.target)||(e.stopPropagation(),e.preventDefault(),a(e))}),window.addEventListener("scroll",a)):(t.addEventListener("mouseleave",a),e.forEach(e=>{e.addEventListener("mouseenter",s),e.addEventListener("mouseleave",a)}),t.addEventListener("mouseenter",s),n.addEventListener("mouseenter",r),n.addEventListener("mouseleave",a)),t}addEventListener("DOMContentLoaded",()=>{var e;for(const t of null==(e=document.getElementById("nav"))?void 0:e.getElementsByClassName("dropdown"))createDropdown(t,0)});
//# sourceMappingURL=/assets/js/dropdown.min.js.map