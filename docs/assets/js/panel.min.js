"use strict";function*parents(e){for(;yield e=e.parentElement,e;);}function numParentsOfTagName(e,t){let a=0;for(const s of parents(e))(null===s||void 0===s?void 0:s.tagName.toUpperCase())==t.toUpperCase()&&a++;return a}function*navList(e){for(const o of e.querySelectorAll("a,iframe")){var t=Math.max(0,numParentsOfTagName(o,"li")-1),a=o.cloneNode(),s=(a.className="",a.classList.add("link","depth-"+t),document.createElement("span"));s.className="indent-"+t,a.prepend(s),a.append(o.innerText),yield a}}function panelify(r,e){const i=Object.assign({delay:0,hideOnClick:!1,hideOnEscape:!1,hideOnSwipe:!1,resetScroll:!1,resetForms:!1,side:null,target:r,visibleClass:"visible"},e),l=(t,e)=>{i.target.classList.contains(i.visibleClass)&&(e&&(e.preventDefault(),e.stopPropagation()),i.target.classList.remove(i.visibleClass),window.setTimeout(()=>{if(i.resetScroll&&(t.scrollTop=0),i.resetForms)for(const e of t.getElementsByTagName("form"))e.reset()},i.delay))};if(r.style.setProperty("-ms-overflow-style","-ms-autohiding-scrollbar"),r.style.setProperty("-webkit-overflow-scrolling","touch"),i.hideOnClick){for(const t of r.getElementsByTagName("a"))t.style.setProperty("-webkit-tap-highlight-color","rgba(0,0,0,0)");r.addEventListener("click",e=>{const t=e.target;"A"==t.tagName&&t.hasAttribute("href")&&!["#","","#"+r.id].includes(t.getAttribute("href"))&&(l(r,e),window.setTimeout(()=>{"_blank"==t.target?window.open(t.href):window.location.href=t.href},i.delay+10))},!0)}return r.addEventListener("touchstart",e=>{r.dataset.touchPosX=e.touches[0].pageX.toString(),r.dataset.touchPosY=e.touches[0].pageY.toString()}),r.addEventListener("touchmove",e=>{if(null!==r.dataset.touchPosX&&null!==r.dataset.touchPosY){var t=parseInt(null!=(s=r.dataset.touchPosX)?s:"0")-e.touches[0].pageX,a=parseInt(null!=(s=r.dataset.touchPosY)?s:"0")-e.touches[0].pageY,s=r.offsetHeight,o=r.scrollHeight-r.scrollTop;if(i.hideOnSwipe){let e=!1;var n=20;switch(i.side){case"left":e=a<n&&-20<a&&50<t;break;case"right":e=a<n&&-20<a&&t<-50;break;case"top":e=t<n&&-20<t&&50<a;break;case"bottom":e=t<n&&-20<t&&a<-50}if(e)return r.dataset.touchPosX=void 0,r.dataset.touchPosY=void 0,l(r),!1}(r.scrollTop<0&&a<0||s-2<o&&o<s+2&&0<a)&&(e.preventDefault(),e.stopPropagation())}}),["click","touchend","touchstart","touchmove"].forEach(e=>r.addEventListener(e,e=>{e.stopPropagation()})),r.addEventListener("click",e=>{var t=e.target;"A"==t.tagName&&t.getAttribute("href")=="#"+r.id&&l(r,e)},!0),["click","touchend"].forEach(e=>document.body.addEventListener(e,e=>l(r,e))),document.body.addEventListener("click",e=>{var t=e.target;"A"==t.tagName&&t.getAttribute("href")=="#"+r.id&&(e.preventDefault(),e.stopPropagation(),i.target.classList.toggle(i.visibleClass))},!0),i.hideOnEscape&&window.addEventListener("keydown",e=>{"Escape"==e.key&&l(r,e)}),r}addEventListener("DOMContentLoaded",()=>{var e,t=document.getElementById("navPanel");null!=(e=null==t?void 0:t.querySelector("nav"))&&e.append(...navList(document.getElementById("nav"))),panelify(t,{delay:500,hideOnClick:!0,hideOnSwipe:!0,resetScroll:!0,resetForms:!0,side:"left",target:document.body,visibleClass:"navPanel-visible"})});
//# sourceMappingURL=/assets/js/panel.min.js.map