"use strict";function*parents(e){for(;yield e=e.parentElement,e;);}function parentsOfTagName(e,t){return Array.from(parents(e)).filter(e=>(null==e?void 0:e.tagName.toUpperCase())==t.toUpperCase())}function*navList(e){for(const a of e.getElementsByTagName("a")){var t=Math.max(0,parentsOfTagName(a,"li").length-1);const s=a.cloneNode();s.className="",s.classList.add("link","depth-"+t),s.innerHTML=`<span class="indent-${t}"></span>`+a.innerText,yield s}}function panelify(i,e){const r=Object.assign({delay:0,hideOnClick:!1,hideOnEscape:!1,hideOnSwipe:!1,resetScroll:!1,resetForms:!1,side:null,target:i,visibleClass:"visible"},e),l=(t,e)=>{r.target.classList.contains(r.visibleClass)&&(e&&(e.preventDefault(),e.stopPropagation()),r.target.classList.remove(r.visibleClass),window.setTimeout(()=>{if(r.resetScroll&&(t.scrollTop=0),r.resetForms)for(const e of t.getElementsByTagName("form"))e.reset()},r.delay))};if(i.style.setProperty("-ms-overflow-style","-ms-autohiding-scrollbar"),i.style.setProperty("-webkit-overflow-scrolling","touch"),r.hideOnClick){for(const t of i.getElementsByTagName("a"))t.style.setProperty("-webkit-tap-highlight-color","rgba(0,0,0,0)");i.addEventListener("click",e=>{const t=e.target;"A"==t.tagName&&t.hasAttribute("href")&&!["#","","#"+i.id].includes(t.getAttribute("href"))&&(l(i,e),window.setTimeout(()=>{"_blank"==t.target?window.open(t.href):window.location.href=t.href},r.delay+10))},!0)}return i.addEventListener("touchstart",e=>{i.dataset.touchPosX=e.touches[0].pageX.toString(),i.dataset.touchPosY=e.touches[0].pageY.toString()}),i.addEventListener("touchmove",e=>{if(null!==i.dataset.touchPosX&&null!==i.dataset.touchPosY){var t=parseInt(null!==(s=i.dataset.touchPosX)&&void 0!==s?s:"0")-e.touches[0].pageX,a=parseInt(null!==(s=i.dataset.touchPosY)&&void 0!==s?s:"0")-e.touches[0].pageY,s=i.offsetHeight,o=i.scrollHeight-i.scrollTop;if(r.hideOnSwipe){let e=!1;var n=20;switch(r.side){case"left":e=a<n&&-20<a&&50<t;break;case"right":e=a<n&&-20<a&&t<-50;break;case"top":e=t<n&&-20<t&&50<a;break;case"bottom":e=t<n&&-20<t&&a<-50}if(e)return i.dataset.touchPosX=void 0,i.dataset.touchPosY=void 0,l(i),!1}(i.scrollTop<0&&a<0||s-2<o&&o<s+2&&0<a)&&(e.preventDefault(),e.stopPropagation())}}),["click","touchend","touchstart","touchmove"].forEach(e=>i.addEventListener(e,e=>{e.stopPropagation()})),i.addEventListener("click",e=>{const t=e.target;"A"==t.tagName&&t.getAttribute("href")=="#"+i.id&&l(i,e)},!0),["click","touchend"].forEach(e=>document.body.addEventListener(e,e=>l(i,e))),document.body.addEventListener("click",e=>{const t=e.target;"A"==t.tagName&&t.getAttribute("href")=="#"+i.id&&(e.preventDefault(),e.stopPropagation(),r.target.classList.toggle(r.visibleClass))},!0),r.hideOnEscape&&window.addEventListener("keydown",e=>{"Escape"==e.key&&l(i,e)}),i}addEventListener("DOMContentLoaded",()=>{var e;const t=document.getElementById("navPanel");null!==(e=null===t||void 0===t?void 0:t.querySelector("nav"))&&void 0!==e&&e.append(...navList(document.getElementById("nav"))),panelify(t,{delay:500,hideOnClick:!0,hideOnSwipe:!0,resetScroll:!0,resetForms:!0,side:"left",target:document.body,visibleClass:"navPanel-visible"})});
//# sourceMappingURL=/assets/js/panel.min.js.map